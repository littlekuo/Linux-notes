# Linux内核简介


## 内核组成
- 负责响应中断的中断服务程序
- 负责管理多个进程以分享处理器时间的调度程序
- 负责管理进程地址空间的内存管理程序
- 网络/进程间通信等系统服务程序
  
## 内核空间和用户空间
- 对于提供保护机制的现代操作系统，内核独立于普通应用程序，
拥有受保护的内存空间和访问硬件设备的所有权限，其被称作内核空间。  
- 相应的，应用程序只能使用某些特定的系统资源，不能直接访问硬件，
也不能访问操作系统划分给别人的内存范围，其运行所在的空间称作用户空间。

![](/Linux内核设计与实现/Images/ch1-1.JPG)


## 宏内核和微内核比较
- 单内核中，整个内核作为一个单独的大过程来实现，运行在一个单独的地址空间中，这样的内核通常以单个静态文件的形式存放在磁盘中，其支持者认为单内核简单而且性能较高。UNIX采用的就是这种。
- 微内核被划分成多个process，每一个process被称作server，理想情况下，只有强烈需要特权的server才运行在特权模式下，其它的server运行在用户空间，因为所有的server运行在不同的地址空间，所以不可能像单内核那样直接调用函数，而是采用进程间通信(IPC)机制。由于IPC机制的开销多于函数调用，且会涉及内核与用户空间的上下文切换，因此，实际的微内核系统采取的是让大部分server位于内核，从而可以直接调用函数，免除频繁的上下文切换。Windows NT和Mac OS X采用的就是微内核，它们的新近版本不让任何server运行在用户空间，这违背了微内核的设计初衷。

## Linux内核
Linux内核是单内核，不过其充分吸收了微内核的精华，与UNIX系统存在一些显著的区别：
- Linux支持动态加载内核模块。尽管是单内核，但可以在需要时动态卸除和加载部分内核代码。
- 支持对称多处理机制。
- Linux内核支持抢占。除Solaris和IRIX外，大多数Unix不支持。
- Linux不区分线程和其他的一般进程。对于内核来说，所有的进程都差不多，只是其中的一些可以共享资源。
- Linux提供具有设备类的面向对象的设备模型/热插拔事件，以及用户空间的设备文件系统。
- 充分体现了自由这个词的精髓。
  
不管Linux和UNIX有多大区别，其身上深深打下了UNIX的烙印。

